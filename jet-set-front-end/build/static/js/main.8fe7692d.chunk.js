(this["webpackJsonpjet-set"]=this["webpackJsonpjet-set"]||[]).push([[0],{79:function(t,e,n){},80:function(t,e,n){},93:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),o=n(14),a=n.n(o),i=(n(79),n(80),n(42)),s=n(15),l=n(131),u=n(13),j=n(55),d=n(4);function x(t){var e=t.temperature,n=t.wind,r=Object(c.useRef)(),o=Object(c.useState)(!1),a=Object(u.a)(o,2),i=a[0],s=a[1];return Object(j.b)((function(t,e){r.current.rotation.y+=function(t){return t/500+Math.random()/10}(n),r.current.rotation.x=r.current.rotation.y/10})),Object(d.jsxs)("mesh",{position:[h(),h()/2,h()],ref:r,scale:i?1.5:1,onClick:function(t){return s(!i)},children:[Object(d.jsx)("boxGeometry",{args:[1.2,1.1,1]}),Object(d.jsx)("meshStandardMaterial",{color:f(e)})]})}function b(t){var e=t.city,n=e.weather.main.feels_like,c=e.weather.wind.speed;return Object(d.jsxs)(j.a,{children:[Object(d.jsx)("ambientLight",{intensity:.5}),Object(d.jsx)("spotLight",{position:[10,10,10],angle:.15,penumbra:1}),Object(d.jsx)("pointLight",{position:[-10,-10,-10]}),Object(d.jsx)(x,{temperature:n,wind:c}),Object(d.jsx)(x,{temperature:n,wind:c})]})}function h(){return 2*(Math.random()-.5)}function f(t){var e=-10,n=((t=(t=(t+=5*(Math.random()-1))>110?110:t)<e?e:t)-e)/120*255+0;return"hsl("+(n=-1*(n-127.5)+127.5)+", 100%, 50%)"}var p=n(137),O=n(134),m=n(136),v=n(17),g=Object(c.createContext)({cityList:[],handleNewCity:function(t){},getCityFromUrl:function(t){},getCityUrl:function(t){}}),y=function(){return Object(c.useContext)(g)},C=function(t){var e=t.children,n=Object(c.useState)([]),r=Object(u.a)(n,2),o=r[0],a=r[1];return Object(d.jsx)(g.Provider,{value:{cityList:o,handleNewCity:function(t){console.log("Adding new city",t),w(o,t)||a([t].concat(Object(v.a)(o)))},getCityFromUrl:function(t){var e=t.split("-"),n=o.find((function(t){return e[0]===t.name&&e[1]===t.state&&e[2]===t.country}));return console.log(n.name),n},getCityUrl:function(t){var e="/"+t.name+"-"+t.state+"-"+t.country;return console.log("getting city url string: ",e),e}},children:e})},w=function(t,e){return!!t.find((function(t){var n=t.name,c=t.state,r=t.country;return n===e.name&&c===e.state&&r===e.country}))},S=n(138),N=n(139),k=Object(l.a)((function(){var t="beige";return{root:{position:"relative",display:"flex",flexDirection:"row",minHeight:300,padding:10,margin:20,backgroundColor:t},details:{position:"absolute",zIndex:2,color:"black",textShadow:"-1px -1px 0 ".concat(t,", 1px -1px 0 ").concat(t,", -1px 1px 0 ").concat(t,", 1px 1px 0 ").concat(t),display:"flex",flexDirection:"column",flex:1},graphics:{position:"relative",flex:1}}}));function I(t){var e=t.city,n=Object(s.f)(),c=k(),r=y().getCityUrl,o="";return o=e.state?e.state+", "+e.country:e.country,Object(d.jsxs)(O.a,{className:c.root,children:[Object(d.jsxs)("div",{className:c.details,children:[Object(d.jsx)(m.a,{children:Object(d.jsx)(p.a,{onClick:function(){return n.push(r(e))},children:e.name})}),Object(d.jsxs)(S.a,{children:[Object(d.jsx)(N.a,{color:"textSecondary",children:o}),Object(d.jsx)(N.a,{variant:"h5",component:"h2",children:"Weather"}),Object(d.jsxs)(N.a,{color:"textSecondary",children:["Temp: ",e.weather.main.feels_like]}),Object(d.jsxs)(N.a,{color:"textSecondary",children:["Wind: ",e.weather.wind.speed]})]})]}),Object(d.jsx)("div",{className:c.graphics,children:Object(d.jsx)(b,{city:e})})]})}function F(t){var e=y().cityList,n=t.className;return Object(d.jsx)("div",{className:"main-flexbox ".concat(n),children:e.map((function(t){return Object(d.jsx)(I,{city:t},t.name+t.state+t.country)}))})}var _=n(6),L=n(141),M=n(142),U=n(140),D=n(143);var E=function(t){return Math.round(1.8*(t-273.15)+32)},P=function(t){return console.log("city argument for eventsFromCity",t),fetch("http://localhost:4000/events?city=".concat(t.name,"&state_code=").concat(t.state,"&country_code").concat(t.country)).then((function(t){return t.json()})).then((function(t){return console.log("Event object",t),t})).catch((function(t){return console.log(t)}))},W=Object(l.a)((function(t){return Object(D.a)({root:{"& .MuiAutocomplete-listbox":{border:"2px grey",minHeight:200}}})})),z=function(t){var e=W();return Object(d.jsx)(U.a,Object(_.a)(Object(_.a)({},t),{},{className:e.root,placement:"bottom"}))};function H(t){var e=y().handleNewCity,n=Object(c.useState)([]),r=Object(u.a)(n,2),o=r[0],a=r[1];return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(M.a,{props:!0,id:"navbar",freeSolo:!0,onChange:function(t,n){n&&(console.log("input string",n),fetch("http://localhost:4000/cityInfo?input=".concat(n)).then((function(t){return t.json()})).then((function(t){return console.log("cityObject",t),t=function(t){var e=t.weather.main;return e.temp=E(e.temp),e.feels_like=E(e.feels_like),e.temp_min=E(e.temp_min),e.temp_max=E(e.temp_max),t}(t),e(t)})).catch((function(t){return console.log(t)})))},onInputChange:function(t,e){fetch("http://localhost:4000/autocomplete?input=".concat(e)).then((function(t){return t.json()})).then((function(t){console.log(t),a(t)})).catch((function(t){return console.log(t)}))},options:o,style:{width:350,margin:20},renderInput:function(t){return Object(d.jsx)(L.a,Object(_.a)(Object(_.a)({},t),{},{variant:"outlined",label:"Search a city..."}))},PopperComponent:z})})}var T=Object(l.a)((function(){return{nav:{position:"relative",zIndex:10},wrapper:{position:"relative",zIndex:0}}}));function A(){var t=T();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(H,{className:t.nav}),Object(d.jsx)(F,{className:t.wrapper})]})}var B=n(26),J=n.n(B),G=n(46),R=Object(l.a)((function(){var t="beige";return{root:{display:"flex",flexDirection:"row",minHeight:300,padding:10,margin:20,backgroundColor:t},details:{color:"black",textShadow:"-1px -1px 0 ".concat(t,", 1px -1px 0 ").concat(t,", -1px 1px 0 ").concat(t,", 1px 1px 0 ").concat(t),display:"flex",flexDirection:"column",flex:1},secondColumn:{flex:1}}}));function q(t){var e=t.event,n=R();return Object(d.jsxs)(O.a,{className:n.root,children:[Object(d.jsx)("div",{className:n.details,children:Object(d.jsxs)(S.a,{children:[Object(d.jsx)(N.a,{color:"textSecondary",children:e.name}),Object(d.jsx)(N.a,{color:"textSecondary",children:e.venue_name})]})}),Object(d.jsx)("div",{className:n.secondColumn,children:Object(d.jsxs)(N.a,{color:"textSecondary",children:["Info: ",e.info]})})]})}function K(t){var e=t.events;console.log("events in EventCardWrapper",e);var n=e.events||[];return console.log("eventList in EventCardWrapper",n),Object(d.jsx)("div",{className:"main-flexbox ",children:n.map((function(t){return Object(d.jsx)(q,{event:t},t.url)}))})}function Q(t){var e=Object(c.useState)([]),n=Object(u.a)(e,2),r=n[0],o=n[1],a=Object(s.g)().cityIdString,i=(0,y().getCityFromUrl)(a);return Object(c.useEffect)((function(){(function(){var t=Object(G.a)(J.a.mark((function t(){var e;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(i);case 2:e=t.sent,o(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[i]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(I,{city:i}),Object(d.jsx)(K,{events:r})]})}var V=function(){return Object(d.jsx)(C,{children:Object(d.jsx)(i.a,{children:Object(d.jsxs)(s.c,{children:[Object(d.jsx)(s.a,{exact:!0,path:"/",children:Object(d.jsx)(A,{})}),Object(d.jsx)(s.a,{exact:!0,path:"/:cityIdString",children:Object(d.jsx)(Q,{})}),Object(d.jsx)(s.a,{path:"/:cityIdString/events",children:Object(d.jsx)("div",{children:"I am a city event page"})})]})})})},X=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,144)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),c(t),r(t),o(t),a(t)}))};a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(V,{})}),document.getElementById("root")),X()}},[[93,1,2]]]);
//# sourceMappingURL=main.8fe7692d.chunk.js.map